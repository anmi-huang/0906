!function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);throw new Error("Cannot find module '"+i+"'")}var a=n[i]={exports:{}};e[i][0].call(a.exports,function(r){var n=e[i][1][r];return o(n?n:r)},a,a.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(r,e,n){"use strict"},{}]},{},[1]);
!function t(n,e,i){function r(c,s){if(!e[c]){if(!n[c]){var o="function"==typeof require&&require;if(!s&&o)return o(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+c+"'")}var d=e[c]={exports:{}};n[c][0].call(d.exports,function(t){var e=n[c][1][t];return r(e?e:t)},d,d.exports,t,n,e,i)}return e[c].exports}for(var a="function"==typeof require&&require,c=0;c<i.length;c++)r(i[c]);return r}({1:[function(t,n,e){"use strict";function i(t,n){var e='\n    <li class="col-md-6 mb-3">\n    <div class="card border border-secondary">\n    <a href="#" class="text-decoration-none ">\n        <div>\n            <img src="'.concat(t.imgUrl,'" class="img-card d-block position-relative w-100">\n        </div>\n        <div class="text-card position-absolute fz-16px">\n            <span class=" text-white fz-16px px-1 py-1">本日精選</span>\n        </div>\n        <div class="d-flex text-center text-primary fz-18px fz-md-20px">\n           <div class="flex-grow-1  ff-ping-fang-tc-light text-cart-font border border-secondary  border-right-0  border-left-0 py-1">').concat(t.itemName,'</div>\n           <div class="flex-grow-1  ff-ping-fang-tc-semibold border-secondary border border-right-0 py-1 ">NT$ ').concat(t.price,'</div>\n        </div>\n    </a>\n    \t<button data-product-id="').concat(n,'" class=" add-item-tr fz-22px fz-md-28px btn-add bg-secondary text-center text-primary w-100 py-2"id="btn-cart" >\n    \t\t\t加入購物車\n    \t\t</button>\n        <div class="btn-card position-absolute">\n          <button >\n            <i class="far fa-heart fz-22px text-primary"></i>\n          </button>\n        </div>\n    </div>\n</li>\n    ');return e}var r,a=document.querySelector("#product-row");fetch("api/dessert.json").then(function(t){return t.json()}).then(function(t){function n(){this.key="example-cart",this.itemList=[],this.initCart=function(){var t=localStorage.getItem(this.key);t&&(this.itemList=JSON.parse(t)),this.render()},this.addItem=function(t){var n=r[t];if(this.itemList[t])this.itemList[t].amount+=1;else{var e=1,i={imgUrl:n.imgUrl,itemName:n.itemName,price:n.price,pid:t,amount:e};this.itemList.push(i)}this.render()},this.btnAddItem=function(t){this.itemList[t].amount+=1,this.render()},this.btnMinuserItem=function(t){this.itemList[t].amount<=1?this.itemList[t].amount=1:this.itemList[t].amount-=1,console.log(this.itemList[t].amount),this.render()},this.deleteItem=function(t){this.itemList.splice(t,1),this.render()},this.updateDataToStorage=function(){var t=JSON.stringify(this.itemList);localStorage.setItem(this.key,t)},this.render=function(){this.updateDataToStorage(),$("#cart-number").html('\n                <span class="cart-number-size position-absolute text-center text-primary bg-secondary fz-24"> \n                '.concat(this.itemList.length,"\n                 </span>"));var t=$("#cart-list"),n=$("#cart-order");t.empty();var e=0,i=0,r=300;this.itemList.forEach(function(n,a){var c=n.price*n.amount;e+=c,i=e+r;var s='   \n                 <li class="row col-md-12 mb-2 pb-2 border-secondary text-primary align-items-center  justify-content-between ff-ping-fang-tc-semibold border border-right-0 border-left-0 border-top-0 ">\n                       \n                    <div class="col-6 col-md-3 pl-0">\n                            <img src="'.concat(n.imgUrl,'" class="img-cart w-100 ">\n                    </div>\n\n                    <div class=" row col-6 col-md-6 ff-ping-fang-tc-light align-items-center">\n                           <div class="col-md-6 ">\n                               <div class="fz-20px">').concat(n.itemName,'</div>\n                               <div class="ff-Helvetica-neue-regular py-2px">NT$ ').concat(n.price,'</div>\n                           </div>\n\n                            <div class="col-md-6 d-flex  btn-list">\n                            <button  data-cart-minuser="').concat(a,'" class=" minuser ff-ping-fang-tc-light border border-right-0  text-center  button-hover ">-</button>\n                            <button  class="ff-ping-fang-tc-light border border-right-0 text-center ">').concat(n.amount,'</button>\n                            <button  data-cart-adder="').concat(a,'" class=" adder ff-ping-fang-tc-light  border text-center button-hover">+</button> \n                            </div>   \n                    </div>\n\n                <div class="col-12 col-md-3 d-flex "> \n                    <div class="border-price col-md-10 fz-20px py-1  border border-secondary border-right-0 border-left-0  text-right text-md-left ">\n                      NT$ ').concat(c,'\n                    </div>\n                    <button class="col-md-2 d-none d-md-block text-right " data-item-index="').concat(a,'"><img src="./img/trash.svg" alt=""class="remove-btn w-2">\n                    </button>\n                </div>    \n\n                </li>\n\n                ');t.append(s)}),n.html('\n                 <div class="order-list ">\n                    <div class="p-order">\n                      <div class="text-center text-primary py-2 px-auto fz-24px  bg-order">\n                      訂單摘要\n                      </div>\n        \n                        <div>\n                            <div class=" d-flex justify-content-between ff-ping-fang-tc-light fz-16px pt-2 pb-1">\n                                <div>小計</div>\n                                <div class="text-right">NT$ '.concat(e,' </div>\n                            </div>\n                            <div class="d-flex justify-content-between ff-ping-fang-tc-light fz-16px ">\n                                <div>運費</div>\n                                <div class="text-right">NT ').concat(r,' </div>\n                            </div>\n                        </div>\n                        <div class="d-flex justify-content-between fz-20px">\n                            <div class="pt-2">總計</div>\n                            <div class="pt-2 text-right">NT$ ').concat(i,' </div>\n                        </div>\n                    </div>    \n                        <div class="d-none d-md-block  bg-yellow  text-center py-2 fz-24px   ff-ping-fang-tc-semibold ">\n                           <a href="#" class="text-primary text-decoration-none ">\n                            結帳\n                            </a>\n                         </div>\n                </div> \n                    '))}}var e=t.products;r=e;var c=" ";r.forEach(function(t,n){var e=i(t,n);c+=e}),a&&(a.innerHTML=c);var s=new n;s.initCart(),$("#product-row button").click(function(t){t.preventDefault();var n=$(this).attr("data-product-id");s.addItem(n)}),$("#cart-list").delegate(".remove-btn","click",function(){var t=$(this).attr("data-item-index");t=parseInt(t),s.deleteItem(t)}),$("#cart-list").delegate(".adder","click",function(){var t=$(this).attr("data-cart-adder");t=parseInt(t),s.btnAddItem(t)}),$("#cart-list").delegate(".minuser","click",function(){var t=$(this).attr("data-cart-minuser");t=parseInt(t),s.btnMinuserItem(t)})})},{}]},{},[1]);