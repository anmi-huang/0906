!function t(n,e,i){function r(s,c){if(!e[s]){if(!n[s]){var d="function"==typeof require&&require;if(!c&&d)return d(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+s+"'")}var o=e[s]={exports:{}};n[s][0].call(o.exports,function(t){var e=n[s][1][t];return r(e?e:t)},o,o.exports,t,n,e,i)}return e[s].exports}for(var a="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,n,e){"use strict";function i(t,n){return'\n  <li class="col-md-6 mb-3">\n    <div class="card border border-secondary">\n        <a href="#" class="text-decoration-none ">\n            <div>\n                <img src="'.concat(t.imgUrl,'" class="img-card d-block position-relative w-100">\n            </div>\n            <div class="text-card position-absolute fz-16px">\n                <span class=" text-white fz-16px px-1 py-1">本日精選</span>\n            </div>\n            <div class="d-flex text-center text-primary fz-18px fz-md-20px">\n                <div class="flex-grow-1  ff-ping-fang-tc-light text-cart-font border border-secondary  border-right-0  border-left-0 py-1">').concat(t.itemName,'</div>\n                <div class="flex-grow-1  ff-ping-fang-tc-semibold border-secondary border border-right-0 py-1 ">NT$ ').concat(t.price,'</div>\n            </div>\n        </a>\n    \t<button data-product-id="').concat(n,'" class=" js-prodoct-row add-item-tr fz-22px fz-md-28px btn-add bg-secondary text-center text-primary w-100 py-2"id="btn-cart" >\n    \t\t\t加入購物車\n    \t</button>\n        <div class="btn-card position-absolute">\n            <button >\n                <i class="far fa-heart fz-22px text-primary"></i>\n            </button>\n        </div>\n    </div>\n  </li>\n    ')}function r(){this.key="example-cart",this.itemList=[],this.initCart=function(){var t=localStorage.getItem(this.key);t&&(this.itemList=JSON.parse(t)),this.render()},this.addItem=function(t){var n=productsData[t];if(this.itemList[t])this.itemList[t].amount+=1;else{var e=1,i={imgUrl:n.imgUrl,itemName:n.itemName,price:n.price,pid:t,amount:e};this.itemList.push(i)}this.updateDataToStorage(),this.render()},this.btnAddItem=function(t){this.itemList[t].amount+=1,this.updateDataToStorage()},this.btnMinuserItem=function(t){this.itemList[t].amount<=1?this.itemList[t].amount=1:this.itemList[t].amount-=1,this.updateDataToStorage(),this.render()},this.deleteItem=function(t){this.itemList.splice(t,1),this.updateDataToStorage(),this.render()},this.updateDataToStorage=function(){var t=JSON.stringify(this.itemList);localStorage.setItem(this.key,t)},this.render=function(){$("#cart-number").html('\n        <span class="cart-number-size w-5 h-5 position-absolute text-center text-primary bg-secondary fz-24"> \n        '.concat(this.itemList.length,"\n         </span>\n         ")),a.empty();var t=0,n=0,e=300;this.itemList.forEach(function(i,r){var s=i.price*i.amount;t+=s,n=t+e;var c='   \n         <li class=" row g-0 col-md-12 mb-2 pb-2 mx-0 px-0 border-cart border-secondary text-primary align-items-center  justify-content-between ff-ping-fang-tc-semibold  ">\n               \n            <div class="col-6 col-md-3 pl-0">\n                <img src="'.concat(i.imgUrl,'" class="img-cart w-100 ">\n            </div>\n\n            <div class=" row g-0 col-6 col-md-6 ff-ping-fang-tc-light align-items-center">\n                <div class="col-md-6 ">\n                    <div class="fz-20px">').concat(i.itemName,'</div>\n                    <div class="ff-Helvetica-neue-regular py-2px">NT$ ').concat(i.price,'</div>\n                </div>\n\n                <div class="col-md-6 d-flex  ">\n                    <button data-minuser="').concat(r,'" class=" js-minuser w-6 h-6 ff-ping-fang-tc-light border border-right-0 text-center border-button"><i class="icon icon-minus text-primary"></i></button>\n                    <div class="d-flex justify-content-center align-items-center w-6 h-6 ff-ping-fang-tc-light border border-right-0">').concat(i.amount,'</div>\n                    <button data-adder="').concat(r,'" class=" js-adder  w-6 h-6 ff-ping-fang-tc-light  border text-center border-button"><i class="icon icon-add text-primary"></i></button></button> \n                </div>   \n            </div>\n\n            <div class="col-12 col-md-3 d-flex  px-0"> \n                    <div class="border-price col-md-10 fz-20px py-1 border border-secondary border-right-0 border-left-0  text-right text-md-left ">\n                    NT$ ').concat(s,'\n                    </div>\n                    <button class="col-md-2 d-none d-md-block text-right pr-0 " data-index="').concat(r,'"><img src="./img/trash.svg" alt=""class="js-remove-btn w-2">\n                    </button>\n            </div> \n        </li>\n\n        ');a.append(c)}),s.html('\n         <div class="order-list ">\n            <div class="p-order">\n                <div class="text-center text-primary py-2 px-auto fz-24px  bg-order">訂單摘要</div>\n                <div>\n                    <div class=" d-flex justify-content-between ff-ping-fang-tc-light fz-16px pt-2 pb-1">\n                        <div>小計</div>\n                        <div class="text-right">NT$ '.concat(t,' </div>\n                    </div>\n                    <div class="d-flex justify-content-between ff-ping-fang-tc-light fz-16px ">\n                        <div>運費</div>\n                        <div class="text-right">NT ').concat(e,' </div>\n                    </div>\n                </div>\n                <div class="d-flex justify-content-between fz-20px">\n                    <div class="pt-2">總計</div>\n                    <div class="pt-2 text-right">NT$ ').concat(n,' </div>\n                </div>\n            </div>    \n                <div class="d-none d-md-block  bg-yellow  text-center py-2 fz-24px   ff-ping-fang-tc-semibold ">\n                    <a href="#" class="text-primary text-decoration-none ">結帳</a>\n                </div>\n        </div> \n            '))}}var a=$("#cart-list"),s=$("#cart-order");fetch("api/dessert.json").then(function(t){return t.json()}).then(function(t){var n=t.products;productsData=n;var e=" ";productsData.forEach(function(t,n){var r=i(t,n);e+=r});var a=$("#product-row");a&&a.html(e);var s=new r;s.initCart(),$(".js-prodoct-row").click(function(t){t.preventDefault();var n=$(this).attr("data-product-id");s.addItem(n)});var c=document.querySelector("#cart-list");c.addEventListener("click",function(t){var n,e=t.target;if(e.matches(".js-adder")&&(n=e.dataset.adder,s.btnAddItem(n)),e.matches(".js-minuser")&&(n=e.dataset.minuser,s.btnMinuserItem(n)),e.matches(".js-remove-btn")){var i=confirm("確定要刪除嗎？");n=e.dataset.index,i&&s.deleteItem(n)}})})},{}]},{},[1]);