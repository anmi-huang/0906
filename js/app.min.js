!function t(e,n,i){function r(c,o){if(!n[c]){if(!e[c]){var s="function"==typeof require&&require;if(!o&&s)return s(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+c+"'")}var d=n[c]={exports:{}};e[c][0].call(d.exports,function(t){var n=e[c][1][t];return r(n?n:t)},d,d.exports,t,e,n,i)}return n[c].exports}for(var a="function"==typeof require&&require,c=0;c<i.length;c++)r(i[c]);return r}({1:[function(t,e,n){"use strict";function i(t,e){return'\n  <li class="col-md-6 mb-3 ">\n    <div class="card border border-secondary">\n        <a href="#" class="text-decoration-none ">\n            <div>\n                <img src="'.concat(t.imgUrl,'" class="img-card d-block position-relative w-100">\n            </div>\n            <div class="card-span position-absolute fz-16px">\n                <span class=" text-white fz-16px px-1 py-1">本日精選</span>\n            </div>\n            <div class="d-flex text-center text-primary fz-18px fz-md-20px">\n                <div class="flex-grow-1  ff-ping-fang-tc-light text-cart-font border border-secondary  border-right-0  border-left-0 py-1">').concat(t.itemName,'</div>\n                <div class="flex-grow-1  ff-ping-fang-tc-semibold border-secondary border border-right-0 py-1 ">NT$ ').concat(t.price,'</div>\n            </div>\n        </a>\n        <button id="js-product-btn" data-cart="').concat(e,'" class="js-product-row add-item-tr fz-22px fz-md-28px btn-add bg-secondary text-center text-primary w-100 py-2"id="btn-cart" >\n                加入購物車\n        </button>\n        <div class="btn-card position-absolute ">\n            <button >\n                <i class="far fa-heart fz-22px text-primary"></i>\n            </button>\n        </div>\n    </div>\n  </li>\n    ')}function r(){this.key="example-cart",this.itemList=[],this.initCart=function(){var t=localStorage.getItem(this.key);t&&(this.itemList=JSON.parse(t)),this.render()},this.addItem=function(t){var e=a[t];if(e.id,this.itemList[t])this.itemList[t].amount+=1;else{var n=e;n.amount=1,this.itemList.push(n)}this.updateDataToStorage()},this.btnAddItem=function(t){document.querySelector("#js-count-".concat(t)).innerHTML=++this.itemList[t].amount,this.updateDataToStorage(),this.countRender(t)},this.btnMinuserItem=function(t){this.itemList[t].amount<=1||(document.querySelector("#js-count-".concat(t)).innerHTML=--this.itemList[t].amount,this.updateDataToStorage(),this.countRender(t))},this.deleteItem=function(t){var e=document.querySelector("#js-item-".concat(t));e&&e.remove(),this.itemList.splice(t,1),this.updateDataToStorage()},this.updateDataToStorage=function(){var t=JSON.stringify(this.itemList);localStorage.setItem(this.key,t)},this.countRender=function(t){document.querySelector("#js-value-".concat(t)).innerHTML="NT$ ".concat(this.itemList[t].amount*this.itemList[t].price),console.log(this.itemList),this.updateTotal()},this.updateTotal=function(){var t=0,e=0,n=300;this.itemList.forEach(function(i){var r=i.price*i.amount;t+=r,e=t+n}),o.innerHTML="NT$ ".concat(t),s.innerHTML="NT$ ".concat(n),d.innerHTML="NT$ ".concat(e)},this.render=function(){u.innerHTML='\n        <span class="cart-number-size rounded-circle w-5 h-5 position-absolute text-center text-primary bg-secondary fz-24"> \n        '.concat(this.itemList.length,"\n         </span>\n         "),l&&(l.innerHTML="");var t;this.itemList.forEach(function(e,n){var i='   \n         <li id="js-item-'.concat(n,'" class=" row g-0 col-md-12 mb-2 pb-2 mx-0 px-0 border-cart border-secondary text-primary align-items-center  justify-content-between ff-ping-fang-tc-semibold  ">\n               \n            <div class="col-6 col-md-3 pl-0">\n                <img src="').concat(e.imgUrl,'" class="cart-img w-100 ">\n            </div>\n\n            <div class=" row g-0 col-6 col-md-6 ff-ping-fang-tc-light align-items-center">\n                <div class="col-md-6 ">\n                    <div class="fz-20px">').concat(e.itemName,'</div>\n                    <div class="ff-Helvetica-neue-regular py-2px">NT$ ').concat(e.price,'</div>\n                </div>\n\n                <div class="col-md-6 d-flex  ">\n                    <button  data-minuser="').concat(n,'" class=" js-minuser  w-6 h-6 ff-ping-fang-tc-light border border-right-0 text-center btn-active"><i class="icon icon-minus text-primary pointer-events-none"></i></button>\n                    <div id="js-count-').concat(n,'" class="d-flex justify-content-center align-items-center w-6 h-6 ff-ping-fang-tc-light border border-right-0">').concat(e.amount,'</div>\n                    <button  data-adder="').concat(n,'" class=" js-adder  w-6 h-6 ff-ping-fang-tc-light  border text-center btn-active"><i class="icon icon-add text-primary pointer-events-none"></i></button></button> \n                </div>   \n            </div>\n\n            <div class="col-12 col-md-3 d-flex  px-0"> \n                    <div  id="js-value-').concat(n,'"   class="price-border col-md-10 fz-20px py-1 border border-secondary border-right-0 border-left-0  text-right text-md-left ">\n                    NT$ ').concat(itemValue,'\n                    </div>\n                    <button class="col-md-2 d-none d-md-block text-right pr-0 " data-index="').concat(n,'"><img src="./img/trash.svg" alt=""class="js-remove-btn w-2">\n                    </button>\n            </div> \n        </li>\n        ');t=i,c.append(t)}),this.updateTotal()}}var a,c=$("#cart-list"),o=document.querySelector("#js-total"),s=document.querySelector("#js-fee"),d=document.querySelector("#js-sum"),u=document.querySelector("#cart-number"),l=(document.querySelector("#cart-order"),document.querySelector("#cart-list")),m=(document.querySelector(".js-product-row"),document.querySelector("#product-row"));document.querySelector("#js-product-btn");m&&fetch("api/dessert.json").then(function(t){return t.json()}).then(function(t){var e=t.products;a=e;var n=" ";a.forEach(function(t,e){var r=i(t,e);n+=r}),m&&(m.innerHTML=n),m.addEventListener("click",function(t){f.addItem(t.target.dataset.cart)})});var f=new r;f.initCart(),l&&l.addEventListener("click",function(t){var e,n=t.target;if(n.matches(".js-adder")&&(e=n.dataset.adder,f.btnAddItem(e)),n.matches(".js-minuser")&&(e=n.dataset.minuser,f.btnMinuserItem(e)),n.matches(".js-remove-btn")){var i=confirm("確定要刪除嗎？");e=n.dataset.index,i&&f.deleteItem(e)}}),m.addEventListener("click",function(t){t.target.dataset.cart&&f.addItem(t.target.dataset.cart)}),l&&(l.innerHTML+=str),(void 0).addItem=function(t){var e=a[t];if(this.itemList[t])this.itemList[t].amount+=1;else{var n=e;n.amount=1,this.itemList.push(n)}this.updateDataToStorage(),this.render()},(void 0).deleteItem=function(t){var e=document.querySelector("#js-item-".concat(t));e.remove(),this.itemList.splice(t,1),this.updateDataToStorage(),this.render()}},{}]},{},[1]);
!function t(e,n,r){function i(o,a){if(!n[o]){if(!e[o]){var s="function"==typeof require&&require;if(!a&&s)return s(o,!0);if(c)return c(o,!0);throw new Error("Cannot find module '"+o+"'")}var d=n[o]={exports:{}};e[o][0].call(d.exports,function(t){var n=e[o][1][t];return i(n?n:t)},d,d.exports,t,e,n,r)}return n[o].exports}for(var c="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){"use strict";function r(t,e){return'\n  <li class="col-md-6 mb-3 ">\n    <div class="card border border-secondary">\n        <a href="#" class="text-decoration-none ">\n            <div>\n                <img src="'.concat(t.imgUrl,'" class="img-card d-block position-relative w-100">\n            </div>\n            <div class="card-span position-absolute fz-16px">\n                <span class=" text-white fz-16px px-1 py-1">本日精選</span>\n            </div>\n            <div class="d-flex text-center text-primary fz-18px fz-md-20px">\n                <div class="flex-grow-1  ff-ping-fang-tc-light text-cart-font border border-secondary  border-right-0  border-left-0 py-1">').concat(t.itemName,'</div>\n                <div class="flex-grow-1  ff-ping-fang-tc-semibold border-secondary border border-right-0 py-1 ">NT$ ').concat(t.price,'</div>\n            </div>\n        </a>\n    \t<button id="js-product-btn" data-cart="').concat(e,'" class="js-product-row add-item-tr fz-22px fz-md-28px btn-add bg-secondary text-center text-primary w-100 py-2"id="btn-cart" >\n    \t\t\t加入購物車\n    \t</button>\n        <div class="btn-card position-absolute ">\n            <button >\n                <i class="far fa-heart fz-22px text-primary"></i>\n            </button>\n        </div>\n    </div>\n  </li>\n    ')}function i(){this.key="example-cart",this.itemList=[],this.initCart=function(){var t=localStorage.getItem(this.key);t&&(this.itemList=JSON.parse(t)),this.render()},this.addItem=function(t){var e=c[t];if(console.log(c),console.log(t),e.amount)this.itemList.forEach(function(t){e.id==t.id}),this.itemList[t].amount+=1;else{var n=e;n.amount=1,this.itemList.push(n)}this.updateDataToStorage(),this.cartNumberRender()},this.btnAddItem=function(t){document.querySelector("#js-count-".concat(t)).innerHTML=++this.itemList[t].amount,this.updateDataToStorage(),this.countRender(t)},this.btnMinuserItem=function(t){this.itemList[t].amount<=1||(document.querySelector("#js-count-".concat(t)).innerHTML=--this.itemList[t].amount,this.updateDataToStorage(),this.countRender(t))},this.deleteItem=function(t){document.querySelector("#js-item-".concat(t)).remove(),this.itemList.splice(t,1),this.updateTotal(),this.cartNumberRender(),this.updateDataToStorage(),console.log(this.itemList)},this.updateDataToStorage=function(){var t=JSON.stringify(this.itemList);localStorage.setItem(this.key,t)},this.updateTotal=function(){var t=0,e=0,n=300;this.itemList.forEach(function(r){var i=r.price*r.amount;t+=i,e=t+n}),o.innerHTML="NT$ ".concat(t),a.innerHTML="NT$ ".concat(n),s.innerHTML="NT$ ".concat(e)},this.countRender=function(t){document.querySelector("#js-value-".concat(t)).innerHTML="NT$ ".concat(this.itemList[t].amount*this.itemList[t].price),console.log(this.itemList),this.updateTotal()},this.cartNumberRender=function(){d.innerHTML='\n        <span class="cart-number-size rounded-circle w-5 h-5 position-absolute text-center text-primary bg-secondary fz-24"> \n        '.concat(this.itemList.length,"\n         </span>\n         "),console.log(this.itemList)},this.render=function(){this.cartNumberRender();var t,e=0,n=0,r=300;this.itemList.forEach(function(i,c){var o=i.price*i.amount;e+=o,n=e+r;var a='   \n         <li id="js-item-'.concat(c,'" class=" row g-0 col-md-12 mb-2 pb-2 mx-0 px-0 border-cart border-secondary text-primary align-items-center  justify-content-between ff-ping-fang-tc-semibold  ">\n               \n            <div class="col-6 col-md-3 pl-0">\n                <img src="').concat(i.imgUrl,'" class="cart-img w-100 ">\n            </div>\n\n            <div class=" row g-0 col-6 col-md-6 ff-ping-fang-tc-light align-items-center">\n                <div class="col-md-6 ">\n                    <div class="fz-20px">').concat(i.itemName,'</div>\n                    <div class="ff-Helvetica-neue-regular py-2px">NT$ ').concat(i.price,'</div>\n                </div>\n\n                <div class="col-md-6 d-flex  ">\n                    <button  data-minuser="').concat(c,'" class=" js-minuser  w-6 h-6 ff-ping-fang-tc-light border border-right-0 text-center btn-active"><i class="icon icon-minus text-primary pointer-events-none"></i></button>\n                    <div id="js-count-').concat(c,'" class="d-flex justify-content-center align-items-center w-6 h-6 ff-ping-fang-tc-light border border-right-0">').concat(i.amount,'</div>\n                    <button  data-adder="').concat(c,'" class=" js-adder  w-6 h-6 ff-ping-fang-tc-light  border text-center btn-active"><i class="icon icon-add text-primary pointer-events-none"></i></button></button> \n                </div>   \n            </div>\n\n            <div class="col-12 col-md-3 d-flex  px-0"> \n                    <div  id="js-value-').concat(c,'" class="price-border col-md-10 fz-20px py-1 border border-secondary border-right-0 border-left-0  text-right text-md-left ">\n                    NT$ ').concat(o,'\n                    </div>\n                    <button id="js-btn" class="col-md-2 d-none d-md-block text-right pr-0 " data-btn="').concat(c,'"><img src="./img/trash.svg" alt=""class="pointer-events-none w-2">\n                    </button>\n            </div> \n        </li>\n        ');t=a,l&&(l.innerHTML+=t)}),u&&(o.innerHTML="NT$ ".concat(e),a.innerHTML="NT$ ".concat(r),s.innerHTML="NT$ ".concat(n))}}var c,o=($("#cart-list"),document.querySelector("#js-total")),a=document.querySelector("#js-fee"),s=document.querySelector("#js-sum"),d=document.querySelector("#cart-number"),u=document.querySelector("#cart-order"),l=document.querySelector("#cart-list"),m=(document.querySelector(".js-product-row"),document.querySelector("#product-row"));document.querySelector("#js-product-btn");m&&fetch("api/dessert.json").then(function(t){return t.json()}).then(function(t){var e=t.products;c=e;var n=" ";c.forEach(function(t,e){var i=r(t,e);n+=i}),m&&(m.innerHTML=n),m.addEventListener("click",function(t){t.target.dataset.cart&&f.addItem(t.target.dataset.cart)})});var f=new i;f.initCart(),l&&l.addEventListener("click",function(t){var e,n=t.target;if(n.matches(".js-adder")&&(e=n.dataset.adder,f.btnAddItem(e)),n.matches(".js-minuser")&&(e=n.dataset.minuser,f.btnMinuserItem(e)),n.matches("#js-btn")){var r=confirm("確定要刪除嗎？");e=n.dataset.btn,r&&f.deleteItem(e)}})},{}]},{},[1]);